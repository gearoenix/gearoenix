FUNCTION(GX_COMPILE_LIB DIR)
    SET(BUILD_DIR "${DIR}/gx-build")
    IF(NOT EXISTS "${BUILD_DIR}")
    	FILE(REMOVE_RECURSE ${BUILD_DIR})
    	FILE(MAKE_DIRECTORY ${BUILD_DIR})
    	EXECUTE_PROCESS(COMMAND cmake -H${DIR} -B${BUILD_DIR} -DCMAKE_BUILD_TYPE=Release)
    	EXECUTE_PROCESS(COMMAND cmake --build ${BUILD_DIR} --config Release)
    	EXECUTE_PROCESS(COMMAND cmake -H${DIR} -B${BUILD_DIR} -DCMAKE_BUILD_TYPE=Debug)
    	EXECUTE_PROCESS(COMMAND cmake --build ${BUILD_DIR} --config Debug)
    ENDIF()
ENDFUNCTION(GX_COMPILE_LIB)